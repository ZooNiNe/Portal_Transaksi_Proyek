<!DOCTYPE html>
<html lang="id">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Portal Transaksi Proyek</title>
  <link rel="stylesheet" href="style.css"/>
  <link rel="preconnect" href="https://fonts.googleapis.com"/>
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin/>
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600&display=swap" rel="stylesheet"/>
</head>
<body>

  <!-- ===== LANDING 1: Identitas ===== -->
  <section class="landing bg1" id="step1">
    <div class="overlay"></div>
    <div class="landing-inner">
      <div class="logo-row landing-logos">
        <img src="logo1.png" alt="Logo 1" class="logo-3"/>
        <img src="logo2.png" alt="Logo 2" class="logo-3"/>
        <img src="logo3.png" alt="Logo 3" class="logo-3"/>
      </div>

      <div class="landing-card">
        <h1 class="landing-title">Portal Transaksi Proyek</h1>
        <p class="landing-subtitle">Pilih identitas, jenis transaksi, dan kategori</p>

        <div class="landing-form">
          <div class="form-group">
            <label for="penginput">Penginput</label>
            <select id="penginput" required>
              <option>Oji</option>
              <option>Bemo</option>
              <option>Opi</option>
            </select>
          </div>

          <div class="form-group">
            <label for="jenis">Jenis Transaksi</label>
            <select id="jenis" required>
              <option>Pengeluaran</option>
              <option>Pembayaran</option>
            </select>
          </div>

          <div class="form-group">
            <label for="kategoriAwal">Kategori</label>
            <select id="kategoriAwal" required>
                <option value="Material">Material</option>
                <option value="Upah">Upah</option>
                <option value="Operasional">Operasional</option>
                <option value="Lainnya">Lainnya</option>            </select>
          </div>

          <button id="toStep2" class="submit-btn wide">Masuk</button>
        </div>
      </div>

      <p class="credit">dibuat oleh <strong>ZOoNiNe</strong> 2025</p>
    </div>
  </section>

  <!-- ===== LANDING 2: Data Utama ===== -->
  <section class="landing bg2 hidden" id="step2">
    <div class="overlay"></div>
    <div class="landing-inner">
      <div class="landing-card form-card">
        <h2 class="landing-title">Data Transaksi</h2>
        <p class="landing-subtitle">Isi detail transaksi</p>

        <div class="form-group">
          <label for="tanggal">Tanggal</label>
          <input type="date" id="tanggal" required/>
        </div>

        <div class="form-group">
          <label for="proyek">Nama Proyek</label>
          <select id="proyek" required>
            <option value="Proyek Utama(Pembangunan Dapur)">Proyek Utama(Pembangunan Dapur)</option>
            <option value="Proyek Pembenahan Lahan">Proyek Pembenahan Lahan</option>
            <option value="Proyek Lainnya">Proyek Lainnya</option>          </select>
        </div>

        <div class="form-group">
          <label for="uraian">Uraian</label>
          <input type="text" id="uraian" placeholder="Contoh: Pembelian Semen 20 sak / Termin I" required/>
        </div>

        <div class="form-group">
          <label for="nominal">Nominal (Rp)</label>
          <input type="text" id="nominal" inputmode="numeric" placeholder="Contoh: 1.250.000" required/>
        </div>

        <div class="form-group">
          <label for="kreditor">Kreditor / Supplier</label>
          <select id="kreditor">
            <option value="CV Alam Berkah Abadi">CV Alam Berkah Abadi</option>
            <option value="TB Berkah Naufal">TB Berkah Naufal</option>
            <option value="CV Sari Doa (Cilawang)">CV Sari Doa (Cilawang)</option>
            <option value="Galian Batu Pareang (Haji Agus)">Galian Batu Pareang (Haji Agus)</option>            
            <option value="Warung Agil">Warung Agil</option>
            <option value="__OTHER__">Lainnyaâ€¦ (ketik sendiri)</option>
          </select>
          <input type="text" id="kreditorLain" class="hidden" placeholder="Tulis nama Kreditor/Supplier"/>
        </div>

        <div class="form-group">
          <label for="status">Status</label>
          <select id="status" required>
            <option>Sudah Dibayar</option>
            <option>Belum Dibayar</option>
          </select>
        </div>

        <div class="btn-row">
          <button id="backTo1" class="btn-outline">Kembali</button>
          <button id="toStep3" class="submit-btn">Lanjut ke Upload</button>
        </div>
      </div>
    </div>
  </section>

  <!-- ===== LANDING 3: Upload ===== -->
  <section class="landing bg3 hidden" id="step3">
    <div class="overlay"></div>
    <div class="landing-inner">
      <div class="landing-card form-card">
        <h2 class="landing-title">Lampiran Bukti</h2>
        <p class="landing-subtitle">Unggah bukti sesuai kebutuhan</p>

        <!-- Muncul hanya jika Kategori=Material & Jenis=Pengeluaran -->
        <div id="wrapBon" class="form-group hidden">
          <label for="buktiBon">Bukti Bon (Invoice)</label>
          <input type="file" id="buktiBon" accept="image/*,application/pdf" multiple/>
        </div>

        <div id="wrapSJ" class="form-group hidden">
          <label for="buktiSJ">Bukti Surat Jalan</label>
          <input type="file" id="buktiSJ" accept="image/*,application/pdf" multiple/>
        </div>

        <!-- Default untuk kondisi lain -->
        <div id="wrapBuktiUmum" class="form-group hidden">
          <label for="buktiUmum">Bukti Transaksi</label>
          <input type="file" id="buktiUmum" accept="image/*,application/pdf" multiple/>
        </div>

        <div class="btn-row">
          <button id="backTo2" class="btn-outline">Kembali</button>
          <button id="openPreview" class="submit-btn">Kirim</button>
        </div>
      </div>
    </div>
  </section>

  <!-- ===== MODAL PREVIEW (2-step + scroll + sticky) ===== -->
  <div class="modal-backdrop" id="previewModal">
    <div class="modal-content">
      <h3>Konfirmasi Data</h3>
      <p>Periksa kembali sebelum mengirim.</p>

      <!-- STEP SWITCH -->
      <div class="pv-steps">
        <button id="pvTab1" class="pv-tab active">Ringkasan</button>
        <button id="pvTab2" class="pv-tab">Lampiran</button>
      </div>

      <div class="preview-scroll pv-pane active" id="pvStep1">
        <div class="preview-grid">
          <div class="preview-label">Penginput</div><div class="preview-value" id="pv-penginput"></div>
          <div class="preview-label">Jenis</div><div class="preview-value" id="pv-jenis"></div>
          <div class="preview-label">Kategori</div><div class="preview-value" id="pv-kategori"></div>
          <div class="preview-label">Tanggal</div><div class="preview-value" id="pv-tanggal"></div>
          <div class="preview-label">Proyek</div><div class="preview-value" id="pv-proyek"></div>
          <div class="preview-label">Uraian</div><div class="preview-value" id="pv-uraian"></div>
          <div class="preview-label">Nominal</div><div class="preview-value" id="pv-nominal"></div>
          <div class="preview-label">Kreditor/Supplier</div><div class="preview-value" id="pv-kreditor"></div>
          <div class="preview-label">Status</div><div class="preview-value" id="pv-status"></div>
        </div>
      </div>

      <div class="preview-scroll pv-pane" id="pvStep2">
        <div class="preview-foto-container">
          <div class="preview-label">Lampiran</div>
          <div id="pv-thumbs" class="thumbs-wrap"></div>
          <span id="pv-bukti-kosong">Tidak ada berkas diupload.</span>
        </div>
      </div>

      <div class="modal-buttons sticky-footer">
        <div class="pv-nav">
          <button type="button" class="btn-outline small hidden" id="pvBack">Kembali</button>
          <button type="button" class="btn-outline small" id="pvNext">Lanjut</button>
        </div>
        <button type="button" class="btn-edit" id="cancel-btn">Ubah Data</button>
        <button type="button" class="btn-confirm" id="confirm-btn">Ya, Kirim Sekarang</button>
      </div>
    </div>
  </div>

  <!-- TOAST CONTAINER -->
  <div id="toastContainer" aria-live="polite" aria-atomic="true"></div>

  <script src="script.js"></script>
</body>
</html>
