/* =======================================================
 * PKP Styles â€” v4.2 (Payment Hub + Approval + Export)
 * Tidak ada perubahan mayor, hanya penambahan transisi untuk modal.
 * ======================================================= */

:root{
  --bg:#f7fafc; --panel:#ffffff; --text:#0f172a; --text-dim:#64748b; --line:#e5e7eb;
  --grad:linear-gradient(45deg,#06b6d4,#3b82f6);
  --danger:#ef4444; --success:#16a34a; --warn:#f59e0b; --info:#3b82f6; --muted:#94a3b8;
}
*{box-sizing:border-box}
html{scroll-behavior:smooth}
body{
  margin:0; font-family: Inter, system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;
  background:var(--bg); color:var(--text);
  -webkit-font-smoothing: antialiased; -moz-osx-font-smoothing: grayscale;
  touch-action: manipulation;
}
body.dark-theme{ --bg:#0c1425; --panel:#1e293b; --text:#e2e8f0; --text-dim:#94a3b8; --line:#334155; --danger:#f87171; --success:#22c55e; --warn:#f59e0b; --info:#60a5fa; --muted:#9aa8be; }

.hidden{display:none !important}
.mt8{margin-top:8px}

/* Shell */
#app-shell{ display:flex; min-height:100dvh; }
.sidebar{
  width:260px; background:var(--panel); border-right:1px solid var(--line);
  position:fixed; inset:0 auto 0 0; transform:translateX(-100%); transition:transform .2s ease;
  z-index:800; display:flex; flex-direction:column;
}
.sidebar.open{ transform:translateX(0); }
.content-wrapper{ flex:1; margin-left:0; display:flex; flex-direction:column; min-width:0; }

.main-header{
  position:sticky; top:0; z-index:900;
  background:var(--panel); border-bottom:1px solid var(--line);
  padding:.5rem .75rem; display:flex; justify-content:space-between; align-items:center; gap:.5rem;
}
.header-actions{ display:flex; align-items:center; gap:.25rem; }
.icon-btn{ background:none;border:none;cursor:pointer;border-radius:8px;padding:.5rem;color:var(--text-dim); }
.icon-btn:hover{ background:rgba(0,0,0,.04); }
body.dark-theme .icon-btn:hover{ background:rgba(255,255,255,.06); }
.user-profile-btn img{ width:40px;height:40px;border-radius:50%;display:block; }

/* Sidebar content */
.sidebar-head{ display:flex; align-items:center; gap:.75rem; padding:1rem; }
.brand-logo-sidebar{ width:40px;height:40px;object-fit:contain; }
.nav-container{ flex:1; overflow:auto; padding: .25rem .5rem 1rem; }
.nav-item{
  width:100%; display:flex; align-items:center; gap:.75rem;
  background:none; border:none; text-align:left; color:var(--text-dim);
  padding:.65rem .75rem; border-radius:10px; cursor:pointer;
  transition: background-color .2s, color .2s;
}
.nav-item:hover{ background:rgba(0,0,0,.04); color:var(--text); }
body.dark-theme .nav-item:hover{ background:rgba(255,255,255,.06); }
.nav-item.active{ color:#fff; background:var(--grad); }
.sidebar-footer{ padding:.75rem; border-top:1px solid var(--line); }
#auth-btn.danger { background: var(--danger); color: #fff;}
#auth-btn.danger:hover{ background: #b91c1c; }


/* Scrim */
.scrim{ position:fixed; inset:0; background:rgba(0,0,0,.5); z-index:700; opacity:0; pointer-events:none; transition:opacity .2s; }
.scrim.show{ opacity:1; pointer-events:auto; }

/* Pages */
.page-container{ padding:1rem; }
.page{ display:none; }
.page.active{ display:block; animation:fade .2s ease; }
@keyframes fade { from{opacity:0} to{opacity:1} }

/* Cards & section */
.card{ background:var(--panel); border:1px solid var(--line); border-radius:12px; box-shadow: 0 1px 2px rgba(0,0,0,.04); }
.card-pad{ padding:16px; }

/* Buttons */
.btn{
  padding:.55rem 1rem; border:none; border-radius:10px; font-weight:600; cursor:pointer;
  display:inline-flex; align-items:center; justify-content:center; gap:.45rem;
  transition: background-color .2s, border-color .2s, opacity .2s;
}
.btn:disabled { opacity: 0.6; cursor: not-allowed; }
.btn-primary{ background:var(--grad); color:#fff; }
.btn-secondary{ background:rgba(0,0,0,.04); color:var(--text); border:1px solid var(--line); }
body.dark-theme .btn-secondary{ background:rgba(255,255,255,.06); }
.btn-danger{ background: var(--danger); color:#fff; }
.w-full { width: 100%; }

/* Notification & status dots */
.connection-status{ display:flex; align-items:center; margin-left:.25rem; }
.connection-status .status-dot{ width:10px;height:10px;border-radius:999px;border:2px solid var(--panel); transition: background-color .3s; }
.connection-status .online{ background:#22c55e; }
.connection-status .pending{ background:#f59e0b; }
.connection-status .offline{ background:#ef4444; }

/* User dropdown */
.user-profile-wrapper{ position:relative; }
.user-dropdown{
  position:absolute; right:0; top:calc(100% + 8px); width:300px; z-index:950;
  background:var(--panel); border:1px solid var(--line); border-radius:12px; box-shadow:0 10px 24px rgba(0,0,0,.12);
}
.user-dropdown-header{ display:flex; gap:.75rem; padding:12px; border-bottom:1px solid var(--line); align-items: center;}
.user-dropdown-info { display: flex; flex-direction: column; }
.user-dropdown-info strong { line-height: 1.2; }
.user-dropdown-info span { font-size: 0.85rem; color: var(--text-dim); }
.user-dropdown-footer{ padding:12px; }
#user-dropdown-avatar { width: 50px; height: 50px; border-radius: 50%; }

/* PENYEMPURNAAN: Tambah transisi untuk modal agar lebih halus */
.modal-bg{
  position:fixed; inset:0; display:flex; justify-content:center; align-items:center;
  background:rgba(0,0,0,.55); z-index:1100; padding:1rem;
  opacity: 1;
  transition: opacity 0.2s ease-in-out, visibility 0.2s ease-in-out;
  visibility: visible;
}
.modal-bg.hidden{
  opacity: 0;
  visibility: hidden;
}
.modal-content{
  width:100%; max-width:520px;
  background:var(--panel); border-radius:16px;
  box-shadow: 0 10px 24px rgba(0,0,0,.12);
  transform: scale(1);
  transition: transform 0.2s ease-in-out;
}
.modal-bg.hidden .modal-content {
    transform: scale(0.95);
}
body.modal-open{ overflow:hidden; }

/* Toast */
.popup-container{ position:fixed; right:16px; bottom:16px; z-index:2000; transform:translateY(120%); transition:transform .2s ease; }
.popup-container.show{ transform:translateY(0); }
.popup-content{ display:flex; gap:8px; align-items:center; border-radius:12px; padding:10px 12px; background:#111827; color:#fff; box-shadow: 0 4px 12px rgba(0,0,0,.2); }
.popup-success .popup-content{ background:#16a34a; }
.popup-error .popup-content{ background:#dc2626; }

/* Placeholder guest */
.placeholder-card{
  padding:16px; border-radius:12px; border:1px dashed var(--line);
  display:flex; flex-direction:column; gap:.5rem; align-items:flex-start; margin-top:8px;
}
.placeholder-title{ font-weight:700; }
.placeholder-desc{ color:var(--text-dim); }

/* Auth Card in Modal */
.auth-card {
  background: var(--panel);
  display: flex; flex-direction: column;
  border-radius: 16px; /* Pastikan radius sama dengan modal-content */
  overflow: hidden;
}
.auth-card .auth-header {
  padding: 16px 18px;
  border-bottom: 1px solid var(--line);
}
.auth-card .auth-header h4 {
  margin: 0;
  font-size: 1.05rem;
}
.auth-card .auth-body {
  padding: 24px 18px;
  color: var(--text-dim);
}
.auth-card .auth-actions {
  padding: 16px 18px;
  background-color: rgba(0,0,0,0.02);
  border-top: 1px solid var(--line);
  display: flex; gap: 8px; justify-content: flex-end;
}
body.dark-theme .auth-card .auth-actions {
    background-color: rgba(255,255,255,0.03);
}

.google-btn {
  border: 1px solid var(--line);
  background: #fff;
  color: #111827;
}
body.dark-theme .google-btn {
  background: #f8fafc;
  color: #111827;
}
.google-btn .google-icon { width: 18px; height: 18px; }

/* Responsive */
@media (min-width: 900px){
  .sidebar{ transform:none; }
  .content-wrapper{ margin-left:260px; }
  .page-container{ padding:1rem 1.25rem; }
}
