/* =======================================================
 * PKP Frontend — Style dasar profesional
 * ======================================================= */

/* ===== Variables ===== */
:root{
  --font: 'Inter', system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;

  /* Light */
  --bg: #f5f9ff;
  --panel: #ffffff;
  --text: #0c4a6e;
  --muted: #64748b;
  --line: #e2e8f0;

  --primary1: #06b6d4;
  --primary2: #3b82f6;
  --danger: #ef4444;
  --warn: #f59e0b;
  --ok: #22c55e;

  --shadow: 0 10px 25px rgba(0,0,0,.08);
  --radius: 12px;
  --tr: .2s ease;
}

*{box-sizing:border-box}
html,body{margin:0;padding:0}
body{
  font-family:var(--font);
  background:var(--bg);
  color:var(--text);
}

/* ===== Layout ===== */
#app-shell{display:flex;min-height:100vh}

/* Sidebar */
.sidebar{
  width:260px;
  background:var(--panel);
  border-right:1px solid var(--line);
  position:fixed; top:0; left:-260px; height:100%;
  z-index:100; transition:transform var(--tr);
  transform:translateX(0);
}
.sidebar.open{left:0}
.sidebar-head{display:flex;align-items:center;gap:12px;padding:16px}
.brand-logo-sidebar{width:40px;height:40px;object-fit:contain}
.brand-text-sidebar small{color:var(--muted)}

.nav-container{display:flex;flex-direction:column;gap:6px;padding:0 12px}
.nav-item{
  border:none; background:none; cursor:pointer;
  display:flex; align-items:center; gap:12px;
  padding:10px 12px; border-radius:10px; color:var(--muted);
}
.nav-item:hover{background:#f0f7ff; color:var(--text)}
.nav-item.active{background:linear-gradient(45deg,var(--primary1),var(--primary2)); color:#fff}

.sidebar-footer{padding:12px;border-top:1px solid var(--line)}

/* Content */
.content-wrapper{flex:1;display:flex;flex-direction:column;margin-left:0;width:100%}
.main-header{
  background:var(--panel); border-bottom:1px solid var(--line);
  display:flex; justify-content:space-between; align-items:center;
  padding:10px 14px; position:sticky; top:0; z-index:50;
}
.header-left{display:flex;align-items:center;gap:8px}
.header-actions{display:flex;align-items:center;gap:8px}

/* Status dot */
.connection-status{display:inline-flex;align-items:center;justify-content:center;margin:0 8px}
.status-dot{width:10px;height:10px;border-radius:50%;border:2px solid rgba(0,0,0,.07)}
.status-dot.offline{background:#ef4444}
.status-dot.pending{background:#f59e0b}
.status-dot.online{background:#22c55e}

/* User */
.user-profile-wrapper{position:relative}
.user-profile-btn{border:none;background:none;padding:0;cursor:pointer;border-radius:50%}
.user-profile-btn img{width:40px;height:40px;border-radius:50%;object-fit:cover}
.user-dropdown{
  position:absolute; right:0; top:calc(100% + 10px);
  width:300px; background:var(--panel); border:1px solid var(--line);
  border-radius:var(--radius); box-shadow:var(--shadow);
}
.user-dropdown.hidden{display:none}
.user-dropdown-header{display:flex;gap:12px;padding:12px;border-bottom:1px solid var(--line)}
.user-dropdown-header img{width:60px;height:60px;border-radius:50%}
.user-dropdown-footer{padding:12px}

/* Pages */
.page-container{padding:16px}
.page{display:none}
.page.active{display:block}

/* Buttons */
.icon-btn{
  background:none; border:none; cursor:pointer; padding:8px; border-radius:50%;
}
.icon-btn:hover{background:#eef5ff}
.btn{
  border:none; border-radius:10px; padding:.6rem 1rem; font-weight:600; cursor:pointer;
}
.btn-primary{background:linear-gradient(45deg,var(--primary1),var(--primary2)); color:#fff}
.btn-primary:hover{opacity:.95}
.btn-secondary{background:#eef2f6;color:var(--text);border:1px solid var(--line)}
.btn-secondary:hover{background:#e9eef5}
.w-full{width:100%}
.fab{
  position:fixed; right:16px; bottom:16px;
  width:56px;height:56px;border-radius:50%;
  background:linear-gradient(45deg,var(--primary1),var(--primary2));
  color:#fff;border:none;box-shadow:var(--shadow);
  display:flex;align-items:center;justify-content:center;
}

/* Cards */
.card{
  background:var(--panel); border:1px solid var(--line); border-radius:var(--radius);
  box-shadow:0 1px 2px rgba(0,0,0,.02);
}

/* Modal */
.modal-bg{
  position:fixed; inset:0; background:rgba(0,0,0,.55);
  display:flex;align-items:center;justify-content:center; padding:16px; z-index:200;
}
.modal-bg.hidden{display:none}
.modal-content{
  background:var(--panel); border-radius:14px; width:100%; max-width:520px;
  box-shadow:var(--shadow); overflow:hidden;
}
.modal-header{
  display:flex;align-items:center;justify-content:space-between;
  padding:14px 16px; border-bottom:1px solid var(--line);
}
.modal-body{padding:16px}

/* Toast */
.popup-container{
  position:fixed; right:16px; bottom:16px; z-index:250;
  transform:translateY(150%); transition:transform var(--tr);
}
.popup-container.show{transform:translateY(0)}
.popup-content{
  display:flex;align-items:center;gap:8px;
  background:#111827; color:#fff; padding:10px 12px; border-radius:10px;
}
.spinner{width:18px;height:18px;border:3px solid #ffffff44;border-top-color:#fff;border-radius:50%;animation:spin 1s linear infinite}
@keyframes spin{to{transform:rotate(360deg)}}

/* Utility */
.hidden{display:none!important}

/* Responsive minimal */
@media (min-width: 992px){
  .sidebar{left:0}
  .content-wrapper{margin-left:260px}
}

/* =======================================================
 * PKP Frontend — Style dasar profesional (Fase 2 additions)
 * ======================================================= */

/* --- Grid kecil untuk dashboard amplop --- */
.kpi-grid {
  display:grid; gap:12px; grid-template-columns: repeat(auto-fit,minmax(190px,1fr));
}
.kpi-card {
  background:var(--panel); border:1px solid var(--line); border-radius:10px; padding:12px;
}
.kpi-card h5{margin:0 0 6px 0; font-size:14px; color:var(--muted)}
.kpi-card .amt{font-weight:700; font-size:18px}

/* --- Section header --- */
.section-head{display:flex;align-items:center;justify-content:space-between;margin:8px 0 12px 0}
.section-head h4{margin:0;font-size:16px}

/* --- Simple table --- */
.table{width:100%;border-collapse:collapse}
.table th,.table td{padding:10px;border-bottom:1px solid var(--line);text-align:left}
.table th{color:var(--muted);font-weight:600}

/* --- Planner modal form --- */
.form-row{display:grid;grid-template-columns:1fr 180px;gap:12px;align-items:center;margin-bottom:10px}
.form-row label{color:var(--muted)}
.form-row input[type="number"], .form-row input[type="date"]{
  width:100%; padding:8px 10px; border:1px solid var(--line); border-radius:8px; background:#fff;
}
.helper{font-size:12px;color:var(--muted);margin-top:4px}

/* --- Chip --- */
.chips{display:flex;gap:8px;flex-wrap:wrap}
.chip{background:#eef5ff;border:1px solid var(--line);color:var(--text);padding:4px 8px;border-radius:999px;font-size:12px}

/* --- Danger/warn text --- */
.text-warn{color:var(--warn)}
.text-danger{color:var(--danger)}
.text-ok{color:var(--ok)}

/* ===== Fase 3 additions ===== */
.connection-status{margin-left:8px}
.connection-status .status-dot{width:10px;height:10px;border-radius:999px;display:inline-block;border:2px solid #fff}
.connection-status .status-dot.online{background:#22c55e}
.connection-status .status-dot.pending{background:#f59e0b}
.connection-status .status-dot.offline{background:#ef4444}

/* Absensi grid */
.absensi-grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(220px,1fr));gap:12px}
.worker-card{border:1px solid var(--line);border-radius:10px;background:var(--panel);padding:12px}
.worker-card h5{margin:0 0 6px 0}
.badge{display:inline-block;padding:2px 8px;border-radius:999px;font-size:12px;background:#eef5ff;border:1px solid var(--line)}
.btn-group{display:flex;gap:6px;flex-wrap:wrap}
.btn-xs{padding:6px 10px;font-size:12px;border-radius:8px;border:1px solid var(--line);background:#fff;cursor:pointer}
.btn-xs:hover{background:#f6faff}

/* Simple charts area */
.charts{display:grid;gap:16px}
.card-pad{padding:12px}
canvas{max-width:100%}
.highlight{outline:2px solid #60a5fa;outline-offset:2px}
